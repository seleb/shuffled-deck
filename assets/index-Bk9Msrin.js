(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function f(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?e.credentials="include":i.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(i){if(i.ep)return;i.ep=!0;const e=f(i);fetch(i.href,e)}})();function L(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var g={exports:{}};/*! store2 - v2.14.4 - 2024-12-26
* Copyright (c) 2024 Nathan Bubna; Licensed MIT */var _=g.exports,k;function D(){return k||(k=1,function(o){(function(a,f){var n={version:"2.14.4",areas:{},apis:{},nsdelim:".",inherit:function(e,t){for(var r in e)t.hasOwnProperty(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t},stringify:function(e,t){return e===void 0||typeof e=="function"?e+"":JSON.stringify(e,t||n.replace)},parse:function(e,t){try{return JSON.parse(e,t||n.revive)}catch{return e}},fn:function(e,t){n.storeAPI[e]=t;for(var r in n.apis)n.apis[r][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,r){e.setItem(t,r)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,r){var s=n.inherit(n.storeAPI,function(u,h,b){return arguments.length===0?s.getAll():typeof h=="function"?s.transact(u,h,b):h!==void 0?s.set(u,h,b):typeof u=="string"||typeof u=="number"?s.get(u):typeof u=="function"?s.each(u):u?s.setAll(u,h):s.clear()});s._id=e;try{var c="__store2_test";t.setItem(c,"ok"),s._area=t,t.removeItem(c)}catch{s._area=n.storage("fake")}return s._ns=r||"",n.areas[e]||(n.areas[e]=s._area),n.apis[s._ns+s._id]||(n.apis[s._ns+s._id]=s),s},storeAPI:{area:function(e,t){var r=this[e];return(!r||!r.area)&&(r=n.Store(e,t,this._ns),this[e]||(this[e]=r)),r},namespace:function(e,t,r){if(r=r||this._delim||n.nsdelim,!e)return this._ns?this._ns.substring(0,this._ns.length-r.length):"";var s=e,c=this[s];if((!c||!c.namespace)&&(c=n.Store(this._id,this._area,this._ns+s+r),c._delim=r,this[s]||(this[s]=c),!t))for(var u in n.areas)c.area(u,n.areas[u]);return c},isFake:function(e){return e?(this._real=this._area,this._area=n.storage("fake")):e===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):this._in(e)in this._area},size:function(){return this.keys().length},each:function(e,t){for(var r=0,s=n.length(this._area);r<s;r++){var c=this._out(n.key(this._area,r));if(c!==void 0&&e.call(this,c,this.get(c),t)===!1)break;s>n.length(this._area)&&(s--,r--)}return t||this},keys:function(e){return this.each(function(t,r,s){s.push(t)},e||[])},get:function(e,t){var r=n.get(this._area,this._in(e)),s;return typeof t=="function"&&(s=t,t=null),r!==null?n.parse(r,s):t??r},getAll:function(e){return this.each(function(t,r,s){s[t]=r},e||{})},transact:function(e,t,r){var s=this.get(e,r),c=t(s);return this.set(e,c===void 0?s:c),this},set:function(e,t,r){var s=this.get(e),c;return s!=null&&r===!1?t:(typeof r=="function"&&(c=r,r=void 0),n.set(this._area,this._in(e),n.stringify(t,c),r)||s)},setAll:function(e,t){var r,s;for(var c in e)s=e[c],this.set(c,s,t)!==s&&(r=!0);return r},add:function(e,t,r){var s=this.get(e);if(s instanceof Array)t=s.concat(t);else if(s!==null){var c=typeof s;if(c===typeof t&&c==="object"){for(var u in t)s[u]=t[u];t=s}else t=s+t}return n.set(this._area,this._in(e),n.stringify(t,r)),t},remove:function(e,t){var r=this.get(e,t);return n.remove(this._area,this._in(e)),r},clear:function(){return this._ns?this.each(function(e){n.remove(this._area,this._in(e))},1):n.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in n.areas)n.areas.hasOwnProperty(t)&&(this._area=n.areas[t],this.clear());return this._area=e,this},_in:function(e){return typeof e!="string"&&(e=n.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&e.indexOf(this._ns)===0?e.substring(this._ns.length):void 0:e}},storage:function(e){return n.inherit(n.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var r in this.items)if(this.has(r)&&e===t++)return r},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},i=n.Store("local",function(){try{return localStorage}catch{}}());i.local=i,i._=n,i.area("session",function(){try{return sessionStorage}catch{}}()),i.area("page",n.storage("page")),typeof f=="function"&&f.amd!==void 0?f("store2",[],function(){return i}):o.exports?o.exports=i:(a.store&&(n.conflict=a.store),a.store=i)})(_,_&&_.define)}(g)),g.exports}var x=D();const p=L(x),N="shuffled-deck",J="1.1.0",M="simple rng for a standard 52-card playing deck",F="Sean S. LeBlanc <sean.s.leblanc@gmail.com>",$="MIT",w="module",R={type:"git",url:"git+https://github.com/seleb/shuffled-deck.git"},T={plugins:["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog","@semantic-release/npm",["@semantic-release/github",{successComment:!1,failTitle:!1}],["@semantic-release/git",{assets:["CHANGELOG.md","package.json","package-lock.json"]}]]},z={postversion:"npm run build",start:"vite --port 80",typecheck:"tsc",build:"vite build",preview:"vite preview"},B={"modern-normalize":"^3.0.1","sass-embedded":"^1.83.4",store2:"^2.14.4",typescript:"^5.6.2",vite:"^6.0.5"},H={private:!0,name:N,version:J,description:M,author:F,license:$,type:w,repository:R,release:T,scripts:z,devDependencies:B},A=document.querySelector("#preloader"),I=document.querySelector("#shuffle-all"),P=document.querySelector("#shuffle-unrevealed"),E=document.querySelector("#version"),d=document.querySelector("#jokers"),l=document.querySelector("#deck");if(!A||!I||!P||!d||!l||!E)throw new Error("could not find elements");const m=["spades","hearts","clubs","diamonds"],U=[1,2,3,4,5,6,7,8,9,10,11,13,14],G=m.reduce((o,a,f)=>({...o,[a]:f*16}),{"":0,spades:0,hearts:0,diamonds:0,clubs:0}),V={1:"ace",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"jack",12:"knight",13:"queen",14:"king",back:"back",joker:"joker"};function y({suit:o,value:a}){const f={back:127136,joker:127167};if(a==="back"||a==="joker")return String.fromCodePoint(f[a]);const n=f.back;return String.fromCodePoint(n+G[o]+parseInt(a,10))}const j=()=>{const o=[],a=parseInt(d.value,10);return new Array(a).fill(0).forEach((f,n)=>o.push({suit:m[n%m.length],value:"joker"})),m.forEach(f=>U.forEach(n=>o.push({suit:f,value:n.toString(10)}))),o};function S({suit:o,value:a,flipped:f=!1}){let n=!1;const i=document.createElement("li");i.dataset.card=JSON.stringify({suit:o,value:a});function e(){i.innerHTML=`<span>${y({suit:o,value:a})}</span>`,i.className=o,i.title=`${V[a]||a}${o&&` of ${o}`}`,i.onclick=t,n&&v()}function t(){i.innerHTML=`<span>${y({suit:"",value:"back"})}</span>`,i.className="back",i.title="",i.onclick=e,n&&v()}return f?e():t(),n=!0,i}function q(o){const a=o.slice(),f=[];for(;a.length;)f.push(a.splice(Math.floor(Math.random()*a.length),1)[0]);return f}const C=()=>{const o=j(),a=q(o),f=document.createDocumentFragment();a.forEach(n=>f.appendChild(S(n))),l.replaceChildren(f),v()},K=()=>{const o=j();l.querySelectorAll(":scope > :not(.back)").forEach(i=>{const e=o.findIndex(({suit:t,value:r})=>y({suit:t,value:r})===i.textContent);e>=0&&o.splice(e,1)}),l.querySelectorAll(":scope > .back").forEach(i=>i.remove());const f=q(o),n=document.createDocumentFragment();f.forEach(i=>n.appendChild(S(i))),l.appendChild(n),v()},v=()=>{p.set("deck",Array.from(l.querySelectorAll(":scope > *")).map(o=>({...JSON.parse(o.dataset.card||""),flipped:!!o.title})))},Q=o=>{const a=document.createDocumentFragment();o.forEach(f=>a.appendChild(S(f))),l.appendChild(a)};I.addEventListener("click",C);P.addEventListener("click",K);d.value=p.get("numJokers")||"2";d.addEventListener("change",()=>{p.set("numJokers",d.value)});var O;(O=p.get("deck"))!=null&&O.length?Q(p.get("deck")):C();E.textContent=H.version;A.remove();
